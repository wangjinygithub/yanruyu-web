webpackJsonp([8],{1042:function(e,t,n){function r(e){if(Array.isArray(e))return m(e.constructor(e.length),e);if("Map"===h(e))return new Map(e);if("Set"===h(e))return new Set(e);if(e&&"object"==typeof e){var t=Object.getPrototypeOf(e);return m(Object.create(t),e)}return e}function o(){function e(n,o){"function"==typeof o&&(o={$apply:o}),Array.isArray(n)&&Array.isArray(o)||d(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(t).join(", "));var a=n;return b(o).forEach(function(c){if(y.call(t,c)){var i=n===a;a=t[c](o[c],a,o,n),i&&e.isEquals(a,n)&&(a=n)}else{var u="Map"===h(n)?e(n.get(c),o[c]):e(n[c],o[c]),s="Map"===h(a)?a.get(c):a[c];e.isEquals(u,s)&&(void 0!==u||y.call(n,c))||(a===n&&(a=r(n)),"Map"===h(a)?a.set(c,u):a[c]=u)}}),a}var t=m({},x);return e.extend=function(e,n){t[e]=n},e.isEquals=function(e,t){return e===t},e}function a(e,t,n){d(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),c(t[n],n)}function c(e,t){d(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function i(e,t){d(Array.isArray(e),"Expected $splice target to be an array; got %s",e),u(t.$splice)}function u(e){d(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function s(e){d("function"==typeof e,"update(): expected spec of $apply to be a function; got %s.",e)}function f(e){d(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}function p(e,t){d(t&&"object"==typeof t,"update(): $merge expects a spec of type 'object'; got %s",t),d(e&&"object"==typeof e,"update(): $merge expects a target of type 'object'; got %s",e)}function l(e,t){var n=h(e);d("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}var d=n(13),y=Object.prototype.hasOwnProperty,v=Array.prototype.splice,g=Object.prototype.toString,h=function(e){return g.call(e).slice(8,-1)},m=Object.assign||function(e,t){return b(t).forEach(function(n){y.call(t,n)&&(e[n]=t[n])}),e},b="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},x={$push:function(e,t,n){return a(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return a(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,o){return i(t,n),e.forEach(function(e){u(e),t===o&&e.length&&(t=r(o)),v.apply(t,e)}),t},$set:function(e,t,n){return f(n),e},$toggle:function(e,t){c(e,"$toggle");var n=e.length?r(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,o){return c(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===o&&(t=r(o)),delete t[e])}),t},$add:function(e,t,n,o){return l(t,"$add"),c(e,"$add"),"Map"===h(t)?e.forEach(function(e){var n=e[0],a=e[1];t===o&&t.get(n)!==a&&(t=r(o)),t.set(n,a)}):e.forEach(function(e){t!==o||t.has(e)||(t=r(o)),t.add(e)}),t},$remove:function(e,t,n,o){return l(t,"$remove"),c(e,"$remove"),e.forEach(function(e){t===o&&t.has(e)&&(t=r(o)),t.delete(e)}),t},$merge:function(e,t,n,o){return p(t,e),b(e).forEach(function(n){e[n]!==t[n]&&(t===o&&(t=r(o)),t[n]=e[n])}),t},$apply:function(e,t){return s(e),e(t)}},$=o();e.exports=$,e.exports.default=$,e.exports.newContext=o},1043:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveInnerService=void 0;var o=n(132),a=r(o),c=n(26),i=r(c),u=n(347),s=r(u),f=(t.saveInnerService=function(){var e=(0,s.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/proxy/innerService/innerService",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n(208)),p=(r(f),n(346)),l=r(p)},854:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=r(o),c=n(132),i=r(c),u=n(870),s=r(u);n(871);var f=n(1042),p=(r(f),n(1043));t.default={namespace:"service",state:{internalServiceList:[],totalRatio:0},effects:{changeRatio:i.default.mark(function e(t,n){var r,o,a,c,u,f=t.payload,p=n.select,l=(n.call,n.put);return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=/^(100|[1-9]?\d)%$/,o=r.test(f.apportionmentRatio)){e.next=5;break}return s.default.error("\u8bf7\u8f93\u5165\u6574\u6570\u7684\u767e\u5206\u6bd4(\u4e0d\u8d85\u8fc7100%)"),e.abrupt("return");case 5:return e.next=7,p(function(e){return e.service.internalServiceList});case 7:return a=e.sent,c=a.map(function(e,t){return(e.apportionmentRatio?e.apportionmentRatio.replace("%",""):"0")/100}),u=c.reduce(function(e,t,n){return e+t}),u>1&&s.default.error("\u5206\u914d\u6bd4\u4f8b\u8d85\u8fc7100%,\u8bf7\u91cd\u65b0\u5206\u914d"),e.next=13,l({type:"setTotalRatio",payload:u});case 13:case"end":return e.stop()}},e,this)}),updateInternalServiceList:i.default.mark(function e(t,n){var r,o,a=t.payload,c=n.select,u=n.put;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(function(e){return e.service.internalServiceList});case 2:return r=e.sent,o=r.map(function(e){return e.gid===a.gid?a:e}),console.log(o),e.next=7,u({type:"setInternalServiceList",payload:o});case 7:case"end":return e.stop()}},e,this)}),saveInnerService:i.default.mark(function e(t,n){var r,o=t.payload,a=n.call;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(p.saveInnerService,o);case 2:r=e.sent,r.success||s.default.error(r.msg),s.default.success(r.msg);case 5:case"end":return e.stop()}},e,this)})},reducers:{setInternalServiceList:function(e,t){return(0,a.default)({},e,{internalServiceList:t.payload})},setTotalRatio:function(e,t){return(0,a.default)({},e,{totalRatio:t.payload})}}},e.exports=t.default},870:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){if(u)return void e(u);l.a.newInstance({prefixCls:g,transitionName:h,style:{top:i},getContainer:s,maxCount:f},function(t){if(u)return void e(u);u=t,e(t)})}function a(e){var t=void 0!==e.duration?e.duration:y,n={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[e.type],r=e.key||v++,a=new Promise(function(a){var c=function(){return"function"==typeof e.onClose&&e.onClose(),a(!0)};o(function(o){var a=p.createElement(d.default,{type:n,theme:"loading"===n?"outlined":"filled"}),i=n?a:"";o.notice({key:r,duration:t,style:{},content:p.createElement("div",{className:"".concat(g,"-custom-content").concat(e.type?" ".concat(g,"-").concat(e.type):"")},e.icon?e.icon:i,p.createElement("span",null,e.content)),onClose:c})})}),c=function(){u&&u.removeNotice(r)};return c.then=function(e,t){return a.then(e,t)},c.promise=a,c}function c(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}Object.defineProperty(t,"__esModule",{value:!0});var i,u,s,f,p=n(1),l=(n.n(p),n(349)),d=n(206),y=3,v=1,g="ant-message",h="move-up",m={open:a,config:function(e){void 0!==e.top&&(i=e.top,u=null),void 0!==e.duration&&(y=e.duration),void 0!==e.prefixCls&&(g=e.prefixCls),void 0!==e.getContainer&&(s=e.getContainer),void 0!==e.transitionName&&(h=e.transitionName,u=null),void 0!==e.maxCount&&(f=e.maxCount,u=null)},destroy:function(){u&&(u.destroy(),u=null)}};["success","info","warning","error","loading"].forEach(function(e){m[e]=function(t,n,o){return c(t)?m.open(r(r({},t),{type:e})):("function"==typeof n&&(o=n,n=void 0),m.open({content:t,duration:n,type:e,onClose:o}))}}),m.warn=m.warning,t.default=m},871:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(207),o=(n.n(r),n(877));n.n(o)},877:function(e,t){}});